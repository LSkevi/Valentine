<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <title>🌸 Yurie's Flower Garden</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
<div class="bg-canvas"></div>

<!-- GAME SCREEN -->
<div id="gameScreen">
  <div class="top-bar">
    <div class="top-row-stats">
      <div class="stat-pill"><span class="ic">C</span><span id="coinDisp">10</span></div>
      <div class="stat-pill">📦 <span id="pktDisp">3</span></div>
      <div class="stat-pill">🎒 <span id="invDisp">0</span></div>
    </div>
    <div class="top-row-btns" style="grid-template-columns:repeat(4,1fr)">
      <button class="tbtn tbtn-open"    id="btnOpenPkt">🎁 Open Packet</button>
      <button class="tbtn tbtn-journal" id="btnJournal">📖 Journal</button>
      <button class="tbtn tbtn-shop"    id="btnShop">🛒 Shop</button>
      <button class="tbtn tbtn-inv"     id="btnInv">🏡 Garden House</button>
    </div>
  </div>
  <div class="garden-header">
    <h2>🌸 Yurie's Flower Garden</h2>
    <p>Tap a pot to plant · Tap a plant to water it!</p>
  </div>
  <div class="pump-section">
    <!-- VALVE WHEEL -->
    <div class="valve-wrap" id="valveWrap">
      <svg class="valve-svg" id="valveSvg" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <!-- outer ring -->
        <circle cx="50" cy="50" r="39" stroke="#c62828" stroke-width="8" fill="none"/>
        <!-- inner ring -->
        <circle cx="50" cy="50" r="22" stroke="#c62828" stroke-width="6" fill="none"/>
        <!-- 8 spokes -->
        <line x1="50" y1="28" x2="50" y2="11" stroke="#c62828" stroke-width="5" stroke-linecap="round"/>
        <line x1="50" y1="72" x2="50" y2="89" stroke="#c62828" stroke-width="5" stroke-linecap="round"/>
        <line x1="28" y1="50" x2="11" y2="50" stroke="#c62828" stroke-width="5" stroke-linecap="round"/>
        <line x1="72" y1="50" x2="89" y2="50" stroke="#c62828" stroke-width="5" stroke-linecap="round"/>
        <line x1="34" y1="34" x2="22" y2="22" stroke="#c62828" stroke-width="5" stroke-linecap="round"/>
        <line x1="66" y1="66" x2="78" y2="78" stroke="#c62828" stroke-width="5" stroke-linecap="round"/>
        <line x1="66" y1="34" x2="78" y2="22" stroke="#c62828" stroke-width="5" stroke-linecap="round"/>
        <line x1="34" y1="66" x2="22" y2="78" stroke="#c62828" stroke-width="5" stroke-linecap="round"/>
        <!-- 8 handle bumps -->
        <ellipse cx="50" cy="7"  rx="7" ry="5" fill="#e53935" transform="rotate(0,50,50)"/>
        <ellipse cx="50" cy="7"  rx="7" ry="5" fill="#e53935" transform="rotate(45,50,50)"/>
        <ellipse cx="50" cy="7"  rx="7" ry="5" fill="#e53935" transform="rotate(90,50,50)"/>
        <ellipse cx="50" cy="7"  rx="7" ry="5" fill="#e53935" transform="rotate(135,50,50)"/>
        <ellipse cx="50" cy="7"  rx="7" ry="5" fill="#e53935" transform="rotate(180,50,50)"/>
        <ellipse cx="50" cy="7"  rx="7" ry="5" fill="#e53935" transform="rotate(225,50,50)"/>
        <ellipse cx="50" cy="7"  rx="7" ry="5" fill="#e53935" transform="rotate(270,50,50)"/>
        <ellipse cx="50" cy="7"  rx="7" ry="5" fill="#e53935" transform="rotate(315,50,50)"/>
        <!-- center hub -->
        <circle cx="50" cy="50" r="11" fill="#c62828"/>
        <circle cx="50" cy="50" r="8"  fill="#b71c1c"/>
        <rect   x="46" y="46" width="8" height="8" rx="1.5" fill="#7f0000"/>
        <!-- shine -->
        <ellipse cx="38" cy="20" rx="5" ry="3" fill="rgba(255,255,255,.18)" transform="rotate(-30,38,20)"/>
      </svg>
      <div class="valve-label" id="valveLabel">Spin for water! 💧</div>
      <div class="valve-prog-bg"><div class="valve-prog-fill" id="valveProgFill" style="width:0%"></div></div>
    </div>
    <div class="water-info">
      <div class="wdrops" id="dropRow"></div>
    </div>
  </div>
  <div class="garden-grid" id="gardenGrid"></div>
  <div class="seed-tray">
    <div class="tray-handle"></div>
    <div class="tray-title">🌱 Your Seeds — tap a pot to plant</div>
    <div class="tray-scroll" id="trayItems"></div>
  </div>
</div>

<div class="toast" id="toast"></div>

<!-- PACKET MODAL -->
<div class="overlay" id="pktOverlay">
  <div class="sheet">
    <button class="sh-close" onclick="closeModal('pktOverlay')">✕</button>
    <div class="sh-handle"></div>
    <div class="sh-title" id="pktTitle">🎁 Open a Packet</div>
    <div id="pktSelector" class="pkt-sel-grid"></div>
    <div id="pktOpenWrap" class="pkt-body" style="display:none">
      <div id="pktCardEl" class="pkt-card">
        <span class="pkt-icon"></span>
        <span class="pkt-label">OPENING…</span>
      </div>
      <p class="pkt-hint" id="pktHint">Something beautiful might be inside… ✨</p>
    </div>
    <div class="pkt-result" id="pktResult">
      <div class="res-flower" id="resFlower"></div>
      <div class="res-name"   id="resName"></div>
      <div class="res-rarity" id="resRarity"></div>
      <div class="res-msg"    id="resMsg"></div>
      <button class="btn-collect" onclick="collectSeed()">Add to Seeds 🌱</button>
    </div>
  </div>
</div>

<!-- PLANT MODAL -->
<div class="overlay" id="plantOverlay">
  <div class="sheet">
    <button class="sh-close" onclick="closeModal('plantOverlay')">✕</button>
    <div class="sh-handle"></div>
    <div class="sh-title">🌱 Plant a Seed</div>
    <p style="color:#bbb;font-size:.8em;text-align:center;margin-bottom:12px;">Choose which seed to plant here</p>
    <div class="plant-list" id="plantList"></div>
  </div>
</div>

<!-- BLOOM MODAL -->
<div class="overlay" id="bloomOverlay">
  <div class="sheet">
    <div class="sh-handle"></div>
    <div class="bloom-wrap">
      <div class="bloom-fl"    id="bloomFlEl"></div>
      <div class="bloom-title" id="bloomTitle"></div>
      <div class="bloom-sub"   id="bloomSub"></div>
      <div class="bloom-reward">🎁 +1 Seed Packet earned for growing this flower!</div>
      <div class="bloom-btns">
        <button class="btn-sell"  id="btnSell">💰 Sell</button>
        <button class="btn-store" id="btnStore">🏡 Store in Garden House</button>
      </div>
    </div>
  </div>
</div>

<!-- JOURNAL MODAL -->
<div class="overlay" id="journalOverlay">
  <div class="sheet">
    <button class="sh-close" onclick="closeModal('journalOverlay')">✕</button>
    <div class="sh-handle"></div>
    <div class="sh-title">📖 Flower Journal</div>
    <div class="journal-prog" id="jnlProg"></div>
    <div class="journal-grid" id="jnlGrid"></div>
  </div>
</div>

<!-- SHOP MODAL -->
<div class="overlay" id="shopOverlay">
  <div class="sheet">
    <button class="sh-close" onclick="closeModal('shopOverlay')">✕</button>
    <div class="sh-handle"></div>
    <div class="sh-title">🛒 Shop</div>
    <div class="shop-item pkt-common">
      <div class="shop-left">
        <span class="shop-icon">📦</span>
        <div>
          <div class="shop-name">Common Packet</div>
          <div class="shop-detail">Tulips, daisies, violets, lilies &amp; more — tiny legendary chance</div>
        </div>
      </div>
      <button class="btn-buy" onclick="buyPacket('common')"><span class="ic">C</span> 10</button>
    </div>
    <div class="shop-item pkt-uncommon">
      <div class="shop-left">
        <span class="shop-icon">🌹</span>
        <div>
          <div class="shop-name">Uncommon Packet</div>
          <div class="shop-detail">Roses, poppies, cherries, irises &amp; more — no rarities below uncommon</div>
        </div>
      </div>
      <button class="btn-buy" onclick="buyPacket('uncommon')"><span class="ic">C</span> 30</button>
    </div>
    <div class="shop-item pkt-rare">
      <div class="shop-left">
        <span class="shop-icon">💎</span>
        <div>
          <div class="shop-name">Rare Packet</div>
          <div class="shop-detail">Tiger lilies, orchids, golden iris &amp; more — chance at legendary ✦</div>
        </div>
      </div>
      <button class="btn-buy" onclick="buyPacket('rare')"><span class="ic">C</span> 55</button>
    </div>
    <div class="shop-item pkt-legendary">
      <div class="shop-left">
        <span class="shop-icon">✨</span>
        <div>
          <div class="shop-name">Legendary Packet</div>
          <div class="shop-detail">Blue Rose, Blue Tulip, White Peony, Pink Orchid, Black Rose &amp; more ✦</div>
        </div>
      </div>
      <button class="btn-buy" onclick="buyPacket('legendary')"><span class="ic">C</span> 85</button>
    </div>
  </div>
</div>

<!-- INVENTORY MODAL -->
<div class="overlay" id="invOverlay">

  <div class="sheet">
    <button class="sh-close" onclick="closeModal('invOverlay')">✕</button>
    <div class="sh-handle"></div>
    <div class="sh-title">🌼Garden House</div>
    <p class="inv-header" id="invHeader" style="text-align:center;font-size:.78em;color:#008000;margin-bottom:12px;"></p>
    <div class="inv-grid" id="invGrid"></div>
  </div>
</div>

<script src="game.js"></script>
</body>
</html>
